<div class="chat-window">
  <div class="menu-area">
    <app-chat-menu></app-chat-menu>
  </div>
  <div class="chat-area">
      <h1>Chatbot</h1>
      <div #messagesContainer class="chat-messages">
        @for (m of activeMessages(); track $index) {
          <div [ngClass]="['message', m.role]">
            @if (m.showResults) {
              <app-results-panel></app-results-panel>
            }
            <p>{{ m.text }}</p>
          </div>
        }
         @if(this.loading){
          <h3>{{this.loadMsg}}</h3>
          }
      </div>

      <div class="message-input">
        <input
          [(ngModel)]="inputmsg"
          type="text"
          placeholder="Digite sua mensagem..."
          [disabled]="loading"
          (keyup.enter)="enviar()"
        />
        <button
          (click)="enviar()"
          [disabled]="loading"
        >
          {{ loading ? 'Aguarde...' : 'Enviar' }}
        </button>
      </div>
  </div>
</div>